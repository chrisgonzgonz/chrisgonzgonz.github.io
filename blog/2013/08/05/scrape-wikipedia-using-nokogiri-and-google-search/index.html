
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Scraping Wikipedia Using Nokogiri and Google Search - CoderCorral</title>
  <meta name="author" content="Chris Gonzales">

  
  <meta name="description" content="The Problem: I needed to write a method for an application that would take a famous programmer&rsquo;s name and scrape the related Wikipedia page for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://chrisgonzgonz.github.io/blog/2013/08/05/scrape-wikipedia-using-nokogiri-and-google-search">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="CoderCorral" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42615530-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">CoderCorral</a></h1>
  
    <h2>Ramblings RE: iOS, Rails & Hardware</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:chrisgonzgonz.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Scraping Wikipedia Using Nokogiri and Google Search</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2013-08-05T19:55:00-04:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:55 pm</span></time>
        
      </p>
    
  </header>


<div class="entry-content"><h2>The Problem:</h2>

<p>I needed to write a method for an application that would take a famous programmer&rsquo;s name and scrape the related Wikipedia page for relevant resources, the most important of which would be a picture.</p>

<p>Nokogiri can scrape a page when passed a url, but how could I ensure that the name passed would translate directly into a valid url? Or even that the name would be spelled correctly? As it turns out, Google can do the heavy lifting and point us directly to the desired page for scrapin&#8217;.</p>

<h2>The Solution:</h2>

<p>The solution is what I&rsquo;ll call a &lsquo;double-scrape&rsquo;. The first thing I did was create my query string by substituting blank spaces in the programmer&rsquo;s name for &lsquo;+&rsquo; and adding &lsquo;+wikipedia&rsquo; to the end of the query, all to ensure that the first result would be the wikipedia page related to the programmer&rsquo;s name.</p>

<p>Next we get the Google search result page for this query string, which Nokogiri scrapes to turn the first result in the list (which should be the Wikipedia article) into the url for the programmer&rsquo;s wikipedia page. Scrape n&#8217; repeat.</p>

<p><img class="center" src="/images/noko1"></p>

<h2>Postscript</h2>

<p>While I&rsquo;m still testing this solution out, I have to say it seems pretty robust. The evidence lies in our seed data, where one Programmer of the Day was listed as &lsquo;Cookie Monster.&rsquo;</p>

<p><img class="center" src="/images/noko2"></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Chris Gonzales</span></span>

      




<time class='entry-date' datetime='2013-08-05T19:55:00-04:00'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2013</span></span> <span class='time'>7:55 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://chrisgonzgonz.github.io/blog/2013/08/05/scrape-wikipedia-using-nokogiri-and-google-search/" data-via="Chris_GonzGonz" data-counturl="http://chrisgonzgonz.github.io/blog/2013/08/05/scrape-wikipedia-using-nokogiri-and-google-search/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/07/24/how-to-setup-a-custom-domain-with-octopress-slash-github-pages/" title="Previous Post: Setting Up a Custom Domain with Octopress / Github Pages">&laquo; Setting Up a Custom Domain with Octopress / Github Pages</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/08/09/smart-kegs-part-ii/" title="Next Post: Smart-Kegs Part II">Smart-Kegs Part II &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/10/13/xcodes-storyboard-has-an-xml-skeleton/">Xcode&#8217;s Storyboard Has an XML Skeleton</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/09/smart-kegs-part-ii/">Smart-Kegs Part II</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/05/scrape-wikipedia-using-nokogiri-and-google-search/">Scraping Wikipedia Using Nokogiri and Google Search</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/24/how-to-setup-a-custom-domain-with-octopress-slash-github-pages/">Setting Up a Custom Domain With Octopress / Github Pages</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/01/smart-kegs-part-i/">Smart-Kegs Part I</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Chris Gonzales -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
